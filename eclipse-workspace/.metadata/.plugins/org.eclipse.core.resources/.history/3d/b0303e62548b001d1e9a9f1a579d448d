package NobelPage;

import java.time.Duration;
import java.util.Iterator;
import java.util.Set;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.Select;

import io.github.bonigarcia.wdm.WebDriverManager;

public class SignUp {

	public static void main(String[] args) throws InterruptedException {
		// TODO Auto-generated method stub
		WebDriverManager.chromedriver().setup();
		WebDriver driver = new ChromeDriver();
		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
		driver.get("https://nobelpagedev.iworklab.com/");

		String FirstNames = "Karan", LastNames = "Sahu", Emails = "karannp99@yopmail.com", Password = "Karan123@";
		Integer Numbers = 2143658709;

		driver.manage().window().maximize();
		Thread.sleep(2000);
		driver.findElement(By.xpath("//span[normalize-space()='Create Account']")).click();
		Thread.sleep(2000);
		System.out.println(driver.findElement(By.className("auth-form-heading")).getText() + " Section is opened");

		WebElement FirstNameLabel = driver.findElement(By.xpath("//label[normalize-space()='First Name']"));
		System.out.print(FirstNameLabel.getText());
		WebElement FirstNameis = driver.findElement(
				By.xpath("//body//div[@id='root']//div[@class='row']//div[@class='row']//div[1]//div[1]//input[1]"));
		FirstNameis.sendKeys(FirstNames);
		System.out.println(" is " + FirstNames);

		WebElement LastNameLabel = driver.findElement(By.xpath("//label[normalize-space()='Last Name']"));
		System.out.print(LastNameLabel.getText());
		WebElement LastNameis = driver.findElement(By.cssSelector(
				"body > div:nth-child(2) > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > div:nth-child(1) > form:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > input:nth-child(2)"));
		LastNameis.sendKeys(LastNames);
		System.out.println(" is " + LastNames);

		WebElement EmailLabel = driver.findElement(By.xpath("//label[normalize-space()='Email']"));
		System.out.print(LastNameLabel.getText());
		WebElement EmailNameis = driver.findElement(By.xpath("//input[@type='email']"));
		EmailNameis.sendKeys(Emails);
		System.out.println(" is " + Emails);

		WebElement PasswordLabel = driver.findElement(By.xpath("//label[normalize-space()='Password']"));
		System.out.print(LastNameLabel.getText());
		WebElement Passwordis = driver.findElement(By.xpath("//input[@type='password']"));
		Passwordis.sendKeys(Password);
		System.out.println(" is " + Password);
		
		/*Dropdown*/
		WebElement staticDropdown = driver.findElement(By.xpath("//div[@title='United States: + 1']"));
		Select dropdown = new Select(staticDropdown);
		dropdown.selectByVisibleText("//span[normalize-space()='+91']");
		System.out.println(dropdown.getFirstSelectedOption().getText() + " : is selected from the static dropdown.");

		WebElement PhoneNumberLabel = driver.findElement(By.xpath("//label[normalize-space()='Mobile']"));
		System.out.print(LastNameLabel.getText());
		WebElement PhoneNumberis = driver.findElement(By.xpath("//input[@value='+1']"));
		PhoneNumberis.sendKeys(String.valueOf(Numbers));
		System.out.println(" is " + String.valueOf(Numbers));

		driver.findElement(By.xpath("//button[normalize-space()='Join Community']")).click();
		Thread.sleep(5000);

		/* windows switch here */
//		    Set <String> windows=driver.getWindowHandles();
//		    Iterator<String> it=windows.iterator();
//		    String parentid=it.next();
//		    String childid=it.next();
//		    driver.switchTo().window(childid);
//		    System.out.println(driver.findElement(By.cssSelector(".im-para.red")).getText());
//		    driver.switchTo().window(parentid);
//		    /**/

	}

}
